<!DOCTYPE html>
<html>
  <head>
    <script src="gamescreen.js"></script>
    <title>gamescreen.js example</title>
  </head>
  <body>
    <h1>gamescreen.js example</h1>
    <script>
      var canvas = document.createElement("canvas");
      canvas.setAttribute("width", "640");
      canvas.setAttribute("height", "480");
      var ctx = canvas.getContext("2d");
      var x = 0;
      var y = 0;
      var intervalId = setInterval(function(){
        ctx.fillStyle = "green";
        ctx.fillRect(0,0,640,480);
        ctx.fillStyle = "red";
        ctx.fillRect(x, y, 20, 20);
        x += 10;
        if(x > 640-20){ x = 0;}
        y += 10;
        if(y > 480-20){ y = 0;}
      }, 20);

      var gameScreen = misohena.GameScreen.wrap(canvas, 640, 480);

      gameScreen.getControlBar().addButton("left").
        setText("Stop").
        setOnClick(function(){ clearInterval(intervalId);});

      document.body.appendChild(gameScreen.getElement());
    </script>
  </body>
</html>
